# Форма (многосоставная)

## **Реализация**
**HTML**
- *Кастомные чекбоксы*
  - Лучше элементы оформлять в виде списка с тегами `<ul>` и `<li>`, так как это даёт больше гибкости в настройках (например, когда нужно, чтобы не вся область тега `<label>` была кликабельная, а только чекбокс и текст рядом с ним)
  - Если это возможно, вместо связи по ID лучше связывать тег `<input>` с тегом `<label>`, просто вложив один в другой

**CSS**
- *label*
  - Тег `<label>`, который может использоваться для классов `.option` и `.field`, по умолчанию имеет значение *inline*. Поэтому следует задавать ему *display: block;* для предсказуемого поведения.
- *Кастомные чекбоксы*
  - Стандартный чекбокс (input type="checkbox") скрывается с помощью набора свойств "srOnly"
  - Чекбоксы следует стилизовать во всех основных состояниях: обычное, отключённое, в фокусе, активное (при нажатии)


## **Разметка (теги и классы)**
**Форма**
- **`form.form`** – форма
- **`h2.form__heading`** – заголовок формы
  - Как и у разделов `<section>`, важен для доступности
  - Можно скрыть через "srOnly"
  - Задать "id", а у элемента `<form>` атрибут "aria-labelledby='...'"

**Блок полей**
- **`fieldset.form__fieldset`** – блок объединённых по смыслу элементов формы
  - Раньше у тега `<fieldset>` были ошибки с флексбокс, поэтому использовал `<div>`
- **`legend.form__legend`** – заголовок блока "fieldset"
  - Тег `<legend>` сложно позиционировать. Можно попробовать исправить:
    - CSS: float: left; inline-size: 100%
    - HTML: добавить div-элемент со свойством "clear: both" (clearfix)
  - Тег `<legend>` можно скрыть визуально, но оставить доступным для доступности (для связи с чекбоксами)
  - Если скрывать `<legend>`, использовать видимую замену `p.form__legend`
  - Тег `<p>` содержит такой же текст, что и элемент `<legend>`
  - Тег `<p>` скрывать от скринридеров атрибутом `aria-hidden="true"`

**Опции**
- **`ul.form__options`** – блок опций (checkbox или radio)
- **`li.option  form__option`** – отдельная опция
- **`label.option__label`** – label опции: название и "input"
  - **`input.option__input`** - сам "input" (checkbox или radio)
  - **`span.option__mark`** - кастомный индикатор (если таковой есть)
  - **`span.option__title`** - название опции

**Текстовые поля**
- **`div.form__fields`** - блок полей (input или textarea)
- **`div.field  form__field`** - отдельное поле ("form__field" для стилизации в форме)
- **`label.field__label`** - название поля
- **`label.field__control`** - если нужно, обёртка для "input" (например, если внутри будет иконка)
  - **`input.field__input`** - сам "input"
  - **`textarea.field__input  field__input--textarea`** - сам "textarea"
- **`button.form__submit`** - кнопка отправки формы


## **Best practices / Checklist**
**Доступность**
- Заголовок формы (h2-h6)
  - Внутри формы должен быть заголовок `<h2>` - `<h6>` с атрибутом `id`
  - Заголовок может быть "srOnly"
  - (Не уверен; не знаю, для чего) У элемента формы `<form>` должен быть атрибут `aria-labelledby`, со ссылкой на "id" заголовка
- Заголовок блока полей (legend)
  - Скринридеры используют тег `<legend>` как часть названия каждой опции
  - (Не уверен, нужно ли то, что ниже)
  - К каждому элементу `.form__legend` нужно добавить "id"
  - К каждому элементу `.field__input.` добавить `aria-labelledby="id"`
- Текстовые поля (field)
  - Если названия поля нет в дизайне, всё равно добавлять `<label>`, но скрывать через "srOnly"